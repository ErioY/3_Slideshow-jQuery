<!--
 * @Autor: ErioY
 * @Date: 2019-10-02 20:58:16
 * @Email: 1973545559@qq.com
 * @Github: https://github.com/ErioY
 * @LastEditors: ErioY
 * @LastEditTime: 2019-10-09 20:51:47
 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    #wrap{
        width: 800px;
        height: 450px;
        margin: 100px auto;
    }
    img {
        width: 800px;
        height: 450px;
    }
    ul{
        margin: 0;
        padding: 0;
        list-style: none;
    }
    </style>
</head>
<body>
    <div id="wrap">
        <ul></ul>
    </div>
    <script src="jquery-1.10.1.min.js"></script>
    <script src="velocity.min.js"></script>
    <script>
    var arr = ["url(img/1.jpg)","url(img/2.jpg)","url(img/3.jpg)","url(img/4.jpg)","url(img/5.jpg)","url(img/6.jpg)"];
    var j = 0;
    for(var i=0;i<100;i++){
        var oLi = $("<li>").css({
            "backgroundImage": arr[j],
            "height": "4.5px",
            "backgroundPositionY": -i * 4.5 + "px"
        }).appendTo($("ul"));
    }
    changePic();
    setInterval(function () {
        changePic();
    }, 3000)
    
    function changePic() {
        if (j == arr.length - 1) {
            j = 0;
        } else {
            j++;
        }
        var i = 0;
        var timer = setInterval(function () {
            $("li").eq(i++).velocity({
                "opacity": 0
                }, {
                    "duration": 200,
                    "complete": function () {
                        $(this).css("backgroundImage",arr[j])
                    }}).velocity({
                        "opacity": 1
                        }, 200);
            if(i == 100) {
                clearInterval(timer);
            }
        }, 15)
    }
    </script>
</body>
</html>